{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/hub/多端开发/poster-editor/pages/poster/edit-poster/children/operation-setting-modal.vue?b54c","webpack:///C:/Users/Administrator/Desktop/hub/多端开发/poster-editor/pages/poster/edit-poster/children/operation-setting-modal.vue?e8cf","webpack:///C:/Users/Administrator/Desktop/hub/多端开发/poster-editor/pages/poster/edit-poster/children/operation-setting-modal.vue?74a3","webpack:///C:/Users/Administrator/Desktop/hub/多端开发/poster-editor/pages/poster/edit-poster/children/operation-setting-modal.vue?5a1c","uni-app:///pages/poster/edit-poster/children/operation-setting-modal.vue",null,"webpack:///C:/Users/Administrator/Desktop/hub/多端开发/poster-editor/components/poster/poster.vue?a44b","webpack:///C:/Users/Administrator/Desktop/hub/多端开发/poster-editor/components/poster/poster.vue?7bda","webpack:///C:/Users/Administrator/Desktop/hub/多端开发/poster-editor/components/poster/poster.vue?6f19","uni-app:///components/poster/poster.vue","webpack:///C:/Users/Administrator/Desktop/hub/多端开发/poster-editor/components/poster/poster.vue?7a7a","webpack:///C:/Users/Administrator/Desktop/hub/多端开发/poster-editor/components/poster/poster.vue?7d5a"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC2E;AACL;;;AAGtE;AACyK;AACzK,gBAAgB,+KAAU;AAC1B,EAAE,6FAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,+GAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAqoB,CAAgB,2oBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwCzpB;AACA;AACA;AACA;AACA;AACA,gD;AACA;AACA,iFADA;AAEA;AACA,mCADA,CAFA;;AAKA;AACA,0DADA;AAEA,QAFA,kBAEA;AACA;AACA;AACA,KALA;AAMA,kBANA,4BAMA;AACA;AACA,gBADA;AAEA,4CAFA;AAGA,6BAHA,EAGA;AACA;AACA;AACA;AACA,SAPA;;AASA;AACA,KAjBA;AAkBA,iBAlBA,2BAkBA;AACA;AACA;;AAEA,KAtBA;AAuBA,gBAvBA,0BAuBA;AACA;AACA;AACA,+BADA,IAFA;;;AAMA,oDANA,+CAMA,KANA,yBAMA,KANA,CAMA,MANA,yBAMA,MANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBALA,EATA;AAeA,8DAfA;;;AAkBA,KAzCA;AA0CA,sBA1CA,gCA0CA;AACA;AACA,KA5CA,GALA,E;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACyK;AACzK,gBAAgB,+KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAonB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACQxoB;AACA,qBADA;AAEA,MAFA,kBAEA;AACA;AACA,gBADA;AAEA,wBAFA;;AAIA,GAPA;AAQA;AACA,gBADA,wBACA,QADA,EACA;AACA;AADA,2BAEA,aAFA,CAEA,MAFA,kBAEA,MAFA,CAEA,QAFA,kBAEA,OAFA;AAGA;AAHA,kCAIA,oBAJA,CAIA,KAJA,yBAIA,KAJA,CAIA,MAJA,yBAIA,MAJA,EAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;;AAEA;AACA,SADA,GACA,IADA,CACA,MADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBADA,EACA;AACA,kCAFA,EAEA;AACA,2BAHA,EAGA;AACA,4BAJA,CADA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAvEA;;AAyEA,OA3EA;;AA6EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA,4BADA,EACA;AACA,iBAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA,WALA;AAMA,cANA,gBAMA,GANA,EAMA;AACA;AACA,WARA;AASA,aATA;AAUA,OAXA;;;;;AAgBA,KAlIA,EARA,E;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA84B,CAAgB,m3BAAG,EAAC,C;;;;;;;;;;;ACAl6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/poster/edit-poster/children/operation-setting-modal.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./operation-setting-modal.vue?vue&type=template&id=7df27bd2&\"\nvar renderjs\nimport script from \"./operation-setting-modal.vue?vue&type=script&lang=js&\"\nexport * from \"./operation-setting-modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/poster/edit-poster/children/operation-setting-modal.vue\"\nexport default component.exports","export * from \"-!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./operation-setting-modal.vue?vue&type=template&id=7df27bd2&\"","var components = {\n  poster: function() {\n    return import(\n      /* webpackChunkName: \"components/poster/poster\" */ \"@/components/poster/poster.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./operation-setting-modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./operation-setting-modal.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"ps-setting-box \">\r\n\t\t<view class=\"setting-left\">\r\n\t\t\t<view class=\"left-item\">\r\n\t\t\t\t<view class=\"yuan\" @click=\"handleUpdateBg\">\r\n\t\t\t\t\t<text class=\"iconfont icon-left-element\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"desc\">更换背景</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"left-item\">\r\n\t\t\t\t<view class=\"yuan\" @click=\"handleClearBg\">\r\n\t\t\t\t\t<text class=\"iconfont icon-add\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"desc\">清除背景</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"left-item\">\r\n\t\t\t\t<view class=\"yuan\" @click=\"open\">\r\n\t\t\t\t\t<text class=\"iconfont icon-Daytimemode\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"desc\">添加元素</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"left-item\">\r\n\t\t\t\t<view class=\"yuan delbg\" @click=\"$modal('ps-setting-modal','close')\">\r\n\t\t\t\t\t<text class=\"iconfont icon-close \"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"setting-right\">\r\n\t\t\t<view class=\"right-item\">\r\n\t\t\t\t<view class=\"yuan\" @click=\"createPoster\">\r\n\t\t\t\t\t<text class=\"iconfont icon-vip\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"desc\" >生成海报</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<poster ref = \"poster\" :pageInfo = \"pageInfo\" ></poster>\r\n\t</view>\n</template>\n\n<script>\r\n\timport broadcast from '@/common/mixins/broadcast.js'\r\n\timport wxAsync from '@/common/mixins/wxAsync.js'\r\n\timport modal from '@/common/mixins/modal.js'\r\n\timport drawer from '@/common/mixins/drawer.js'\r\n\timport poster from '@/components/poster/poster.vue'\r\n\timport {mapState, mapActions } from 'vuex'\r\n\texport default {\r\n\t\tmixins:[broadcast,wxAsync,modal,drawer],\r\n\t\tcomputed:{\r\n\t\t\t...mapState(['pageInfo'])\r\n\t\t},\n\t\tmethods: {\r\n\t\t\t...mapActions(['updateContent','setPosterUrl']),\r\n\t\t\topen(){\r\n\t\t\t\tthis.$drawer('add-content-drawer','open')\r\n\t\t\t\tthis._closeSettingModal()\r\n\t\t\t},\r\n\t\t\thandleUpdateBg(){\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount:1,\r\n\t\t\t\t\tsizeType: ['original', 'compressed'], \r\n\t\t\t\t\tsourceType: ['album'], //从相册选择\r\n\t\t\t\t\tsuccess: (res)=> {\r\n\t\t\t\t\t\tlet url = res.tempFilePaths[0]\r\n\t\t\t\t\t\tthis.updateContent({key:'backgroundImage',value:url})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis._closeSettingModal()\r\n\t\t\t},\r\n\t\t\thandleClearBg(){\r\n\t\t\t\tthis.updateContent({key:'backgroundImage',value:''})\r\n\t\t\t\tthis._closeSettingModal()\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tasync createPoster(){\r\n\t\t\t\t// console.log(this.$refs.poster)\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t    title: '正在生成'\r\n\t\t\t\t});\r\n\t\t\t\ttry{\r\n\t\t\t\t\tlet { width,height } = await this.getClientRect('#image-box')\r\n\t\t\t\t\tthis.updateContent({key:'width',value:width})\r\n\t\t\t\t\tthis.updateContent({key:'height',value:height})\r\n\t\t\t\t\tthis.$refs.poster.createPoster((res)=>{\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tthis.setPosterUrl(res.tempFilePath)\r\n\t\t\t\t\t\tthis._closeSettingModal()\r\n\t\t\t\t\t\tthis.$modal('ps-create-poster-modal','open')\r\n\t\t\t\t\t})\r\n\t\t\t\t}catch(e){console.log('create poster ...',e)}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t_closeSettingModal(){\r\n\t\t\t\tthis.$modal('ps-setting-modal','close')\r\n\t\t\t}\n\t\t},\r\n\t\t\n\t}\n</script>\n\n<style>\n</style>\n","import { render, staticRenderFns, recyclableRender, components } from \"./poster.vue?vue&type=template&id=50acffa4&\"\nvar renderjs\nimport script from \"./poster.vue?vue&type=script&lang=js&\"\nexport * from \"./poster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./poster.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/poster/poster.vue\"\nexport default component.exports","export * from \"-!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./poster.vue?vue&type=template&id=50acffa4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./poster.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- hideCanvas -->\n\t<view class=\"hideCanvas\">\r\n\t\t<canvas  canvas-id=\"poster\" :style=\"{ width: (poster.width || 1) + 'px', height: (poster.height || 1) + 'px' }\"></canvas>\t\t\t  \r\n\t</view>\n</template>\n\n<script>\n\texport default {\r\n\t\tprops:['pageInfo'],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tposter:{},\r\n\t\t\t\tcanvasId:'poster'\n\t\t\t};\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tcreatePoster(callback){\r\n\t\t\t\t// 页面信息\r\n\t\t\t\tconst {detail,content:contents} = this.pageInfo\r\n\t\t\t\t// 背景图片宽高\r\n\t\t\t\tconst {width,height}  = this.pageInfo.detail//await this.getClientRect('#bgImage')\r\n\t\t\t\tconsole.log(width,height)\r\n\t\t\t\t// 海报\r\n\t\t\t\tlet context = uni.createCanvasContext(this.canvasId)\r\n\t\t\t\t// 设置canvas的宽和高\r\n\t\t\t\tthis.$set(this.poster,'width',width)\r\n\t\t\t\tthis.$set(this.poster,'height',height)\r\n\t\t\t\t// 绘制背景\r\n\t\t\t\tif(detail.backgroundImage){\r\n\t\t\t\t\tcontext.drawImage(detail.backgroundImage, 0, 0, width, height)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcontext.setFillStyle(detail.background)\r\n\t\t\t\t\tcontext.fillRect(0, 0, width, height)\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcontents.forEach((item)=>{\r\n\t\t\t\t\tconst {detail:d} = item\r\n\t\t\t\t\tswitch(item.type){\r\n\t\t\t\t\t\tcase 'text':\r\n\t\t\t\t\t\t\tcontext.setFillStyle(d.color)\r\n\t\t\t\t\t\t\tcontext.font = `${d.fontSize}px ${d.fontFamily}`\r\n\t\t\t\t\t\t\t// context.setFontSize(d.fontSize)\r\n\t\t\t\t\t\t\t// 默认加上20 高度有误差\r\n\t\t\t\t\t\t\tcontext.fillText(d.content,d.x,d.y + 20)\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tcase 'img':\r\n\t\t\t\t\t\t\tlet x = d.x, // x轴\r\n\t\t\t\t\t\t\t\ty = d.y, // y轴\r\n\t\t\t\t\t\t\t\tr = d.borderRadius/2, // 10 圆角大小\r\n\t\t\t\t\t\t\t\tw = d.width / 2, // 宽\r\n\t\t\t\t\t\t\t\th = d.height / 2 // 高\r\n\t\t\t\t\t\t\t// 先保存状态 已便于画完圆再用\r\n\t\t\t\t\t\t\tcontext.save()\r\n\t\t\t\t\t\t\t //开始绘制\r\n\t\t\t\t\t\t\tcontext.beginPath()\r\n\t\t\t\t\t\t\t// 先画个圆\r\n\t\t\t\t\t\t\t// x:图片坐标+图片宽度/2/2 ,\r\n\t\t\t\t\t\t\t// y坐标:图片坐标+图片高度/2/2\r\n\t\t\t\t\t\t\t// 半径：图片高度/2/2 \r\n\t\t\t\t\t\t\t// ----------------\r\n\t\t\t\t\t\t\t// context.arc(d.x+d.width/2/2,  d.y+d.height/2/2, d.height/2/2, 0, Math.PI * 2);\r\n\t\t\t\t\t\t\t// context.setFillStyle('red')\r\n\t\t\t\t\t\t\t// // 保证图片无bug填充\r\n\t\t\t\t\t\t\t// context.fill()\r\n\t\t\t\t\t\t\t// // 画了圆 再剪切 原始画布中剪切任意形状和尺寸。一旦剪切了某个区域，则所有之后的绘图都会被限制在被剪切的区域内\r\n\t\t\t\t\t\t\t// context.clip()\r\n\t\t\t\t\t\t\t// ----------------\r\n\t\t\t\t\t\t\tcontext.setFillStyle('transparent')\r\n\t\t\t\t\t\t\t// 左上角\r\n\t\t\t\t\t\t\tcontext.arc(x + r, y + r, r, Math.PI, Math.PI * 1.5)\r\n\t\t\t\t\t\t\t// border-top\r\n\t\t\t\t\t\t\tcontext.moveTo(x + r, y)\r\n\t\t\t\t\t\t\tcontext.lineTo(x + w - r, y)\r\n\t\t\t\t\t\t\tcontext.lineTo(x + w, y + r)\r\n\t\t\t\t\t\t\t// 右上角\r\n\t\t\t\t\t\t\tcontext.arc(x + w - r, y + r, r, Math.PI * 1.5, Math.PI * 2)\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t// border-right\r\n\t\t\t\t\t\t\tcontext.lineTo(x + w, y + h - r)\r\n\t\t\t\t\t\t\tcontext.lineTo(x + w - r, y + h)\r\n\t\t\t\t\t\t\t// 右下角\r\n\t\t\t\t\t\t\tcontext.arc(x + w - r, y + h - r, r, 0, Math.PI * 0.5)\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t// border-bottom\r\n\t\t\t\t\t\t\tcontext.lineTo(x + r, y + h)\r\n\t\t\t\t\t\t\tcontext.lineTo(x, y + h - r)\r\n\t\t\t\t\t\t\t// 左下角\r\n\t\t\t\t\t\t\tcontext.arc(x + r, y + h - r, r, Math.PI * 0.5, Math.PI)\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t// border-left\r\n\t\t\t\t\t\t\tcontext.lineTo(x, y + r)\r\n\t\t\t\t\t\t\tcontext.lineTo(x + r, y)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tcontext.fill()\r\n\t\t\t\t\t\t\tcontext.closePath()\r\n\t\t\t\t\t\t\t// 剪切\r\n\t\t\t\t\t\t\tcontext.clip()\r\n\t\t\t\t\t\t\tif(d.url){\r\n\t\t\t\t\t\t\t\tcontext.drawImage(d.url,d.x,d.y,d.width / 2,d.height / 2)\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tcontext.setFillStyle(d.bgColor)\r\n\t\t\t\t\t\t\t\tcontext.fillRect(d.x, d.y, d.width / 2, d.height / 2)\r\n\t\t\t\t\t\t\t}\t\t \r\n\t\t\t\t\t\t\t// 恢复之前保存的绘图上下文\r\n\t\t\t\t\t\t\tcontext.restore() \r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// context.draw()\r\n\t\t\t\t\r\n\t\t\t\t// setTimeout(()=>{\r\n\t\t\t\t// \tuni.canvasToTempFilePath({\r\n\t\t\t\t// \t\tcanvasId:'poster', //this.canvasId,\r\n\t\t\t\t// \t\tsuccess(res) {\r\n\t\t\t\t// \t\t\tcallback && callback(res)\r\n\t\t\t\t// \t\t},\r\n\t\t\t\t// \t\tfail(err) {\r\n\t\t\t\t// \t\t\tconsole.log(err)\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t},this)\r\n\t\t\t\t\t\r\n\t\t\t\t// },500)\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tcontext.draw(false,()=>{\r\n\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t\tcanvasId:'poster', //this.canvasId,\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tcallback && callback(res)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},this)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t}\n\t}\n</script>\n\n<style>\n\t.hideCanvas {\r\n\t\tposition: fixed;\r\n\t\ttop: -99999upx;\r\n\t\tleft: -99999upx;\r\n\t\tz-index: -99999;\r\n\t}\n</style>\n","import mod from \"-!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./poster.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./poster.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1610689427469\n      var cssReload = require(\"D:/工具/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}